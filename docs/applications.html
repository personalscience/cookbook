<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Applications | Personal Science Cookbook</title>
  <meta name="description" content="Practical techniques to apply scientific principles to your own life." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Applications | Personal Science Cookbook" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Practical techniques to apply scientific principles to your own life." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Applications | Personal Science Cookbook" />
  
  <meta name="twitter:description" content="Practical techniques to apply scientific principles to your own life." />
  

<meta name="author" content="Friends of Personal Science" />


<meta name="date" content="2022-06-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="methods.html"/>
<link rel="next" href="final-words.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script type="text/javascript">

// toggle visibility of R source blocks in R Markdown output
function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Global") elem.value = "Show Global";
    else elem.value = "Hide Global";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Global" id="myButton1" style="position: absolute; top: 10%; right: 2%; z-index: 200"></input>')

</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The Personal Science Cookbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#assumptions"><i class="fa fa-check"></i><b>1.1</b> Assumptions</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-to-edit-this-book"><i class="fa fa-check"></i><b>1.2</b> How to edit this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="the-principles-of-personal-science.html"><a href="the-principles-of-personal-science.html"><i class="fa fa-check"></i><b>3</b> The Principles of Personal Science</a></li>
<li class="chapter" data-level="4" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>4</b> Methods</a>
<ul>
<li class="chapter" data-level="4.1" data-path="methods.html"><a href="methods.html#what-is-a-dataframe"><i class="fa fa-check"></i><b>4.1</b> What is a dataframe?</a></li>
<li class="chapter" data-level="4.2" data-path="methods.html"><a href="methods.html#is-it-chance-t-test"><i class="fa fa-check"></i><b>4.2</b> Is it chance? T-Test</a></li>
<li class="chapter" data-level="4.3" data-path="methods.html"><a href="methods.html#rolling-average"><i class="fa fa-check"></i><b>4.3</b> Rolling average</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>5</b> Applications</a>
<ul>
<li class="chapter" data-level="5.1" data-path="applications.html"><a href="applications.html#hypothesis"><i class="fa fa-check"></i><b>5.1</b> Hypothesis</a></li>
<li class="chapter" data-level="5.2" data-path="applications.html"><a href="applications.html#t-testing"><i class="fa fa-check"></i><b>5.2</b> T-Testing</a></li>
<li class="chapter" data-level="5.3" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>5.3</b> Example one</a></li>
<li class="chapter" data-level="5.4" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>5.4</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/personalscience" target="blank">Personal Science</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Personal Science Cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="applications" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Applications<a href="applications.html#applications" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Some <em>significant</em> applications are demonstrated in this chapter.</p>
<p>Let’s say you are suffering from unexplained headaches that appear somewhat randomly. You suspect they may be associated with something you eat, but you’re not sure, so you’ve been tracking 14 weeks (98 days) worth of your own data in a spreadsheet that looks like this:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="applications.html#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">date=</span><span class="fu">seq</span>(<span class="at">from =</span> <span class="fu">today</span>()<span class="sc">-</span><span class="fu">weeks</span>(<span class="dv">14</span>),</span>
<span id="cb7-2"><a href="applications.html#cb7-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">by =</span> <span class="st">&quot;1 day&quot;</span>, <span class="at">length.out =</span> <span class="dv">7</span><span class="sc">*</span><span class="dv">14</span>),</span>
<span id="cb7-3"><a href="applications.html#cb7-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">headache =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">FALSE</span>), <span class="dv">7</span><span class="sc">*</span><span class="dv">14</span>,</span>
<span id="cb7-4"><a href="applications.html#cb7-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">prob =</span> <span class="fu">c</span>(.<span class="dv">05</span>,.<span class="dv">95</span>),</span>
<span id="cb7-5"><a href="applications.html#cb7-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-6"><a href="applications.html#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="applications.html#cb7-7" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>( <span class="fu">head</span>(x) ) <span class="sc">%&gt;%</span> kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:left;">
headache
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2022-03-08
</td>
<td style="text-align:left;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-09
</td>
<td style="text-align:left;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-10
</td>
<td style="text-align:left;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-11
</td>
<td style="text-align:left;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-12
</td>
<td style="text-align:left;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-13
</td>
<td style="text-align:left;">
FALSE
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="applications.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(x,<span class="st">&quot;headache-days.csv&quot;</span>)</span></code></pre></div>
<p>You can download a copy of this file <a href="./headache-days.csv">here</a></p>
<p>With my 14 weeks of data, we can do a few basic calculations:</p>
<p>How frequent are my headaches?</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="applications.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x<span class="sc">$</span>headache) <span class="sc">/</span> <span class="fu">length</span>(x<span class="sc">$</span>headache)</span></code></pre></div>
<pre><code>[1] 0.04081633</code></pre>
<div id="hypothesis" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Hypothesis<a href="applications.html#hypothesis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>With the data collected and in a nice dataframe format, we can start to wonder what might be driving the headaches, and one of the first culprits to suspect might be something that I eat. It’s easy to add a few more variables (columns) to the dataframe: (<a href="./headache-variables.csv">download</a>)</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="applications.html#cb11-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb11-2"><a href="applications.html#cb11-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">=</span> <span class="cn">NULL</span></span>
<span id="cb11-3"><a href="applications.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>){</span>
<span id="cb11-4"><a href="applications.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">6</span>),</span>
<span id="cb11-5"><a href="applications.html#cb11-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">floor</span>(<span class="fu">runif</span>(<span class="dv">1</span>,<span class="at">min=</span><span class="dv">0</span>,<span class="at">max=</span><span class="dv">3</span>))),</span>
<span id="cb11-6"><a href="applications.html#cb11-6" aria-hidden="true" tabindex="-1"></a>        m)</span>
<span id="cb11-7"><a href="applications.html#cb11-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-8"><a href="applications.html#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="applications.html#cb11-9" aria-hidden="true" tabindex="-1"></a>m</span>
<span id="cb11-10"><a href="applications.html#cb11-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-11"><a href="applications.html#cb11-11" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">date=</span><span class="fu">seq</span>(<span class="at">from =</span> <span class="fu">today</span>()<span class="sc">-</span><span class="fu">weeks</span>(<span class="dv">14</span>),</span>
<span id="cb11-12"><a href="applications.html#cb11-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">by =</span> <span class="st">&quot;1 day&quot;</span>, <span class="at">length.out =</span> <span class="dv">7</span><span class="sc">*</span><span class="dv">14</span>),</span>
<span id="cb11-13"><a href="applications.html#cb11-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">headache =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">FALSE</span>), <span class="dv">7</span><span class="sc">*</span><span class="dv">14</span>,</span>
<span id="cb11-14"><a href="applications.html#cb11-14" aria-hidden="true" tabindex="-1"></a>                              <span class="at">prob =</span> <span class="fu">c</span>(.<span class="dv">05</span>,.<span class="dv">95</span>),</span>
<span id="cb11-15"><a href="applications.html#cb11-15" aria-hidden="true" tabindex="-1"></a>                              <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-16"><a href="applications.html#cb11-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">icecream =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">FALSE</span>), <span class="dv">7</span><span class="sc">*</span><span class="dv">14</span>,</span>
<span id="cb11-17"><a href="applications.html#cb11-17" aria-hidden="true" tabindex="-1"></a>                              <span class="at">prob =</span> <span class="fu">c</span>(.<span class="dv">10</span>,.<span class="dv">90</span>),</span>
<span id="cb11-18"><a href="applications.html#cb11-18" aria-hidden="true" tabindex="-1"></a>                              <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-19"><a href="applications.html#cb11-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">z =</span> <span class="fu">runif</span>(<span class="dv">7</span><span class="sc">*</span><span class="dv">14</span>, <span class="at">min =</span> <span class="sc">-</span><span class="fl">2.5</span>, <span class="at">max =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="dv">8</span>,</span>
<span id="cb11-20"><a href="applications.html#cb11-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">wine =</span> <span class="fu">z</span>(<span class="dv">0</span>))</span>
<span id="cb11-21"><a href="applications.html#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="applications.html#cb11-22" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>( <span class="fu">head</span>(x,<span class="dv">10</span>), <span class="at">digits =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-23"><a href="applications.html#cb11-23" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">&quot;striped&quot;</span>, <span class="st">&quot;hover&quot;</span>, <span class="st">&quot;condensed&quot;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:left;">
headache
</th>
<th style="text-align:left;">
icecream
</th>
<th style="text-align:right;">
z
</th>
<th style="text-align:right;">
wine
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2022-03-08
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
7.35
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-09
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
8.33
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-10
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
7.54
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-11
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
8.49
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-12
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
8.13
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-13
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
7.03
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-14
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
8.10
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-15
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
5.87
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-16
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
6.77
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-17
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
7.45
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="applications.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(x,<span class="st">&quot;headache-variables.csv&quot;</span>)</span></code></pre></div>
<ul>
<li><code>headache</code>: a day when I have a headache</li>
<li><code>icecream</code>: did I eat ice cream that day?</li>
<li><code>wine</code>: Number of glasses of wine I drank.</li>
<li><code>z</code>: Number of hours I slept that day.</li>
</ul>
<p>Based on the data collected so far, can I make any guesses about what might be driving my headaches?</p>
<p>The most obvious place to check is whether I see any patterns on the days when I have headaches. Let’s filter for headache days only:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="applications.html#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">filter</span>(headache)  <span class="sc">%&gt;%</span> <span class="fu">kable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="applications.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">&quot;striped&quot;</span>, <span class="st">&quot;hover&quot;</span>, <span class="st">&quot;condensed&quot;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
date
</th>
<th style="text-align:left;">
headache
</th>
<th style="text-align:left;">
icecream
</th>
<th style="text-align:right;">
z
</th>
<th style="text-align:right;">
wine
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2022-03-17
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
7.450570
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-03-31
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
6.661585
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-05-12
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
6.776721
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-06-01
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
8.435139
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p>But maybe the headache takes a day or two to kick in. We can divide the data by week and see if we can spot any patterns in headache frequency:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="applications.html#cb14-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="at">week =</span> <span class="fu">ntile</span>(date,<span class="dv">7</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="applications.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">headaches =</span> <span class="fu">sum</span>(headache),</span>
<span id="cb14-3"><a href="applications.html#cb14-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">alcohol =</span> <span class="fu">sum</span>(wine),</span>
<span id="cb14-4"><a href="applications.html#cb14-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">icecream =</span> <span class="fu">sum</span>(icecream))  <span class="sc">%&gt;%</span> <span class="fu">kable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="applications.html#cb14-5" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">&quot;striped&quot;</span>, <span class="st">&quot;hover&quot;</span>, <span class="st">&quot;condensed&quot;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
week
</th>
<th style="text-align:right;">
headaches
</th>
<th style="text-align:right;">
alcohol
</th>
<th style="text-align:right;">
icecream
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>You might see a pattern at this point</p>
</div>
<div id="t-testing" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> T-Testing<a href="applications.html#t-testing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>What are the chances that the number of headaches per week is related to the amount of ice cream I eat per week?</p>
<p>If there were a relationship between ice cream and headaches each week, I’d expect that over the weeks in this period, the total number of headaches and the total number of ice cream days should be roughly equal.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="applications.html#cb15-1" aria-hidden="true" tabindex="-1"></a>x_week <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="at">week =</span> <span class="fu">ntile</span>(date,<span class="dv">7</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="applications.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">headaches =</span> <span class="fu">sum</span>(headache),</span>
<span id="cb15-3"><a href="applications.html#cb15-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">alcohol =</span> <span class="fu">sum</span>(wine),</span>
<span id="cb15-4"><a href="applications.html#cb15-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">icecream =</span> <span class="fu">sum</span>(icecream)) </span>
<span id="cb15-5"><a href="applications.html#cb15-5" aria-hidden="true" tabindex="-1"></a>x_week <span class="sc">%&gt;%</span> <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="applications.html#cb15-6" aria-hidden="true" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">&quot;striped&quot;</span>, <span class="st">&quot;hover&quot;</span>, <span class="st">&quot;condensed&quot;</span>)) </span></code></pre></div>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
week
</th>
<th style="text-align:right;">
headaches
</th>
<th style="text-align:right;">
alcohol
</th>
<th style="text-align:right;">
icecream
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="applications.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(x_week, <span class="fu">t.test</span>(headaches,icecream))</span></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  headaches and icecream
## t = -0.86603, df = 11.294, p-value = 0.4045
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -1.009551  0.438122
## sample estimates:
## mean of x mean of y 
## 0.5714286 0.8571429</code></pre>
</div>
<div id="example-one" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Example one<a href="applications.html#example-one" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="example-two" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Example two<a href="applications.html#example-two" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="methods.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="final-words.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["cookbook.pdf", "cookbook.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
